"use strict";(self.webpackChunkmobiwise_dev_github_io=self.webpackChunkmobiwise_dev_github_io||[]).push([[9304],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>f});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),c=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=c(e.components);return r.createElement(l.Provider,{value:t},e.children)},s="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,u=p(e,["components","mdxType","originalType","parentName"]),s=c(n),m=a,f=s["".concat(l,".").concat(m)]||s[m]||d[m]||o;return n?r.createElement(f,i(i({ref:t},u),{},{components:n})):r.createElement(f,i({ref:t},u))}));function f(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=m;var p={};for(var l in t)hasOwnProperty.call(t,l)&&(p[l]=t[l]);p.originalType=e,p[s]="string"==typeof e?e:a,i[1]=p;for(var c=2;c<o;c++)i[c]=n[c];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},1606:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>p,toc:()=>c});var r=n(7462),a=(n(7294),n(3905));const o={},i="mbrApp.createProject",p={unversionedId:"mbrApp/createProject",id:"mbrApp/createProject",title:"mbrApp.createProject",description:"La fonction mbrApp.createProject de Mobirise est utilis\xe9e pour cr\xe9er un nouveau projet dans l'application Mobirise. Voici une explication d\xe9taill\xe9e de son fonctionnement :",source:"@site/docs/mbrApp/createProject.md",sourceDirName:"mbrApp",slug:"/mbrApp/createProject",permalink:"/docs/mbrApp/createProject",draft:!1,tags:[],version:"current",lastUpdatedAt:1687724591,formattedLastUpdatedAt:"Jun 25, 2023",frontMatter:{},sidebar:"docSidebar",previous:{title:"mbrApp.changePageSettings",permalink:"/docs/mbrApp/changePageSettings"},next:{title:"mbrApp.loadRecentProject",permalink:"/docs/mbrApp/loadRecentProject"}},l={},c=[{value:"Exemple",id:"exemple",level:2},{value:"En r\xe9sum\xe9",id:"en-r\xe9sum\xe9",level:2}],u={toc:c},s="wrapper";function d(e){let{components:t,...n}=e;return(0,a.kt)(s,(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"mbrappcreateproject"},"mbrApp.createProject"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'function(c, d, f, e) {\n  var g = this;\n  c = c || g.projectSettings.name;\n  g.fire("createProject", c);\n  Bridge.initProject(function(l, k) {\n    function n() {\n      d = d || b.extend(!0, {}, r);\n      d = g.applyFilter("createProject", d, d.settings.name, k.path);\n      g.applyFilter("promiseDefaultProject", Promise.resolve(d), k.path, f).then(function(d) {\n        d.settings = b.extend({}, d.settings, k);\n        d.settings.theme = b.extend({}, d.settings.theme, f);\n        d.settings.name = g.applyFilter("createProjectName",\n          a.escapeHtml(c));\n        g.loadProject(k.path, d, {\n          onSuccess: function() {\n            g.fire("createdProject", c)\n          },\n          onError: function(b) {\n            e && e(b);\n            a.hidePreloader()\n          },\n          onDone: function() {\n            e && e();\n            a.hidePreloader()\n          }\n        })\n      })\n    }!l && k && k.path ? d || f ? n() : g.getDefaultProject(function(a) {\n      d = a;\n      n()\n    }) : (console.error("Error init project folder"), e && e(l))\n  })\n}\n')),(0,a.kt)("p",null,"La fonction ",(0,a.kt)("inlineCode",{parentName:"p"},"mbrApp.createProject")," de Mobirise est utilis\xe9e pour cr\xe9er un nouveau projet dans l'application Mobirise. Voici une explication d\xe9taill\xe9e de son fonctionnement :"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"La fonction prend plusieurs param\xe8tres : ",(0,a.kt)("inlineCode",{parentName:"p"},"c"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"d"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"f"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"e"),". Voici ce que repr\xe9sentent ces param\xe8tres :"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"c")," : Le nom du projet. Il peut \xeatre sp\xe9cifi\xe9 par l'utilisateur ou par d\xe9faut."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"d")," : Les param\xe8tres du projet. Il s'agit d'un objet contenant les diff\xe9rentes configurations du projet."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"f")," : Le th\xe8me du projet. Il s'agit d'un objet repr\xe9sentant le th\xe8me choisi pour le projet."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"e")," : Une fonction de rappel (callback) optionnelle qui sera appel\xe9e en cas d'erreur lors de la cr\xe9ation du projet."))),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"La fonction d\xe9clenche un \xe9v\xe9nement ",(0,a.kt)("inlineCode",{parentName:"p"},"createProject")," avec le nom du projet en tant que param\xe8tre.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Ensuite, la fonction appelle la fonction ",(0,a.kt)("inlineCode",{parentName:"p"},"Bridge.initProject")," pour initialiser le projet. Cette fonction prend une fonction de rappel (callback) en param\xe8tre qui sera ex\xe9cut\xe9e une fois que l'initialisation du projet est termin\xe9e.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"\xc0 l'int\xe9rieur de la fonction de rappel de l'initialisation du projet, il y a une v\xe9rification pour s'assurer que le chemin du projet est valide (non nul).")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Si le chemin du projet est valide, la fonction v\xe9rifie si les param\xe8tres du projet ",(0,a.kt)("inlineCode",{parentName:"p"},"d")," ou le th\xe8me du projet ",(0,a.kt)("inlineCode",{parentName:"p"},"f")," sont sp\xe9cifi\xe9s. Si l'un des deux est pr\xe9sent, la fonction continue le processus de cr\xe9ation du projet. Sinon, la fonction appelle la fonction ",(0,a.kt)("inlineCode",{parentName:"p"},"getDefaultProject")," pour obtenir les param\xe8tres par d\xe9faut du projet.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Une fois que les param\xe8tres du projet sont obtenus (soit \xe0 partir des param\xe8tres sp\xe9cifi\xe9s, soit \xe0 partir des param\xe8tres par d\xe9faut), la fonction applique des filtres sur ces param\xe8tres en utilisant les fonctions ",(0,a.kt)("inlineCode",{parentName:"p"},"applyFilter")," pour modifier ou personnaliser les param\xe8tres du projet.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Ensuite, la fonction appelle la fonction ",(0,a.kt)("inlineCode",{parentName:"p"},"loadProject")," pour charger le projet \xe0 partir du chemin sp\xe9cifi\xe9 et avec les param\xe8tres du projet. Cette fonction prend \xe9galement une fonction de rappel (callback) en param\xe8tre qui sera ex\xe9cut\xe9e une fois que le chargement du projet est termin\xe9.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Si le chargement du projet est r\xe9ussi, la fonction d\xe9clenche l'\xe9v\xe9nement ",(0,a.kt)("inlineCode",{parentName:"p"},"createdProject")," avec le nom du projet en tant que param\xe8tre.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Si une erreur se produit lors de la cr\xe9ation ou du chargement du projet, la fonction ex\xe9cute la fonction de rappel d'erreur (si elle est sp\xe9cifi\xe9e) et masque le pr\xe9chargeur (preloader) de l'application.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Enfin, la fonction masque \xe9galement le pr\xe9chargeur de l'application une fois que la cr\xe9ation ou le chargement du projet est termin\xe9, en appelant la fonction ",(0,a.kt)("inlineCode",{parentName:"p"},"hidePreloader"),"."))),(0,a.kt)("h2",{id:"exemple"},"Exemple"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'var projectName = "MonProjet"; // Nom du projet\n\nvar projectSettings = {\n  // Param\xe8tres du projet\n  // ...\n};\n\nvar projectTheme = {\n  // Th\xe8me du projet\n  // ...\n};\n\nfunction errorCallback(error) {\n  console.error("Erreur lors de la cr\xe9ation du projet :", error);\n}\n\nmbrApp.createProject(projectName, projectSettings, projectTheme, errorCallback);\n')),(0,a.kt)("h2",{id:"en-r\xe9sum\xe9"},"En r\xe9sum\xe9"),(0,a.kt)("p",null,"Cette fonction ",(0,a.kt)("inlineCode",{parentName:"p"},"mbrApp.createProject")," cr\xe9e un nouveau projet en utilisant les param\xe8tres sp\xe9cifi\xe9s ou les param\xe8tres par d\xe9faut. Elle charge ensuite le projet et d\xe9clenche des \xe9v\xe9nements en fonction du succ\xe8s ou de l'\xe9chec de la cr\xe9ation ou du chargement du projet."))}d.isMDXComponent=!0}}]);