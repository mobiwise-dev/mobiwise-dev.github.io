"use strict";(self.webpackChunkmobiwise_dev_github_io=self.webpackChunkmobiwise_dev_github_io||[]).push([[9110],{3905:(e,t,r)=>{r.d(t,{Zo:()=>s,kt:()=>f});var n=r(7294);function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,n,p=function(e,t){if(null==e)return{};var r,n,p={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(p[r]=e[r]);return p}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(p[r]=e[r])}return p}var c=n.createContext({}),l=function(e){var t=n.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},s=function(e){var t=l(e.components);return n.createElement(c.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var r=e.components,p=e.mdxType,a=e.originalType,c=e.parentName,s=i(e,["components","mdxType","originalType","parentName"]),d=l(r),m=p,f=d["".concat(c,".").concat(m)]||d[m]||u[m]||a;return r?n.createElement(f,o(o({ref:t},s),{},{components:r})):n.createElement(f,o({ref:t},s))}));function f(e,t){var r=arguments,p=t&&t.mdxType;if("string"==typeof e||p){var a=r.length,o=new Array(a);o[0]=m;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i[d]="string"==typeof e?e:p,o[1]=i;for(var l=2;l<a;l++)o[l]=r[l];return n.createElement.apply(null,o)}return n.createElement.apply(null,r)}m.displayName="MDXCreateElement"},5603:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>a,metadata:()=>i,toc:()=>l});var n=r(7462),p=(r(7294),r(3905));const a={},o="mbrApp.addAppScript",i={unversionedId:"mbrApp/addAppScript",id:"mbrApp/addAppScript",title:"mbrApp.addAppScript",description:"La fonction mbrApp.addAppScript de Mobirise prend en entr\xe9e un argument a et retourne une promesse qui r\xe9soudra une fois que le script associ\xe9 \xe0 l'application aura \xe9t\xe9 ajout\xe9.",source:"@site/docs/mbrApp/addAppScript.md",sourceDirName:"mbrApp",slug:"/mbrApp/addAppScript",permalink:"/docs/mbrApp/addAppScript",draft:!1,tags:[],version:"current",lastUpdatedAt:1682502564,formattedLastUpdatedAt:"Apr 26, 2023",frontMatter:{},sidebar:"docSidebar",previous:{title:"mbrApp.addAppResource",permalink:"/docs/mbrApp/addAppResource"},next:{title:"mbrApp.addAppStyle",permalink:"/docs/mbrApp/addAppStyle"}},c={},l=[{value:"Exemple",id:"exemple",level:2},{value:"En r\xe9sum\xe9",id:"en-r\xe9sum\xe9",level:2}],s={toc:l},d="wrapper";function u(e){let{components:t,...r}=e;return(0,p.kt)(d,(0,n.Z)({},s,r,{components:t,mdxType:"MDXLayout"}),(0,p.kt)("h1",{id:"mbrappaddappscript"},"mbrApp.addAppScript"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-js"},"function(a) {\n  var b = c.Deferred();\n  this.appendScriptAsync(l.path2app(a), d.$window.get(0), function(a) {\n    return b.resolve()\n  });\n  return b.promise()\n}\n")),(0,p.kt)("p",null,"La fonction ",(0,p.kt)("inlineCode",{parentName:"p"},"mbrApp.addAppScript")," de Mobirise prend en entr\xe9e un argument ",(0,p.kt)("inlineCode",{parentName:"p"},"a")," et retourne une promesse qui r\xe9soudra une fois que le script associ\xe9 \xe0 l'application aura \xe9t\xe9 ajout\xe9."),(0,p.kt)("p",null,"\xc0 l'int\xe9rieur de la fonction, une promesse diff\xe9r\xe9e est cr\xe9\xe9e en utilisant la m\xe9thode ",(0,p.kt)("inlineCode",{parentName:"p"},"Deferred()")," de l'objet ",(0,p.kt)("inlineCode",{parentName:"p"},"c"),". Ensuite, la m\xe9thode ",(0,p.kt)("inlineCode",{parentName:"p"},"appendScriptAsync()")," est appel\xe9e pour ajouter le script correspondant \xe0 l'application en utilisant le chemin d'acc\xe8s fourni par la m\xe9thode ",(0,p.kt)("inlineCode",{parentName:"p"},"l.path2app()"),"."),(0,p.kt)("p",null,"La m\xe9thode ",(0,p.kt)("inlineCode",{parentName:"p"},"appendScriptAsync()")," prend \xe9galement un deuxi\xe8me argument qui est l'objet ",(0,p.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/docs/Web/API/Document_Object_Model"},"DOM")," sur lequel le script doit \xeatre ajout\xe9, dans ce cas ",(0,p.kt)("inlineCode",{parentName:"p"},"d.$window.get(0)"),". Enfin, une fonction de rappel est fournie qui r\xe9sout la promesse diff\xe9r\xe9e en appelant la m\xe9thode ",(0,p.kt)("inlineCode",{parentName:"p"},"resolve()")," sur l'objet ",(0,p.kt)("inlineCode",{parentName:"p"},"b"),"."),(0,p.kt)("h2",{id:"exemple"},"Exemple"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-js"},'mbrApp\n  .addAppScript("monScript.js")\n  .then(function () {\n    console.log("The script has been added successfully!");\n  })\n  .catch(function () {\n    console.error("An error occurred while adding the script.");\n  });\n')),(0,p.kt)("h2",{id:"en-r\xe9sum\xe9"},"En r\xe9sum\xe9"),(0,p.kt)("p",null,"Cette fonction ",(0,p.kt)("inlineCode",{parentName:"p"},"mbrApp.addAppScript")," ajoute un script associ\xe9 \xe0 Mobirise en utilisant le chemin d'acc\xe8s fourni en argument, retourne une promesse qui sera r\xe9solue une fois que le script aura \xe9t\xe9 ajout\xe9 avec succ\xe8s, et permet \xe0 l'appelant d'afficher la r\xe9solution de la promesse \xe0 l'aide des m\xe9thodes then() ou catch()."))}u.isMDXComponent=!0}}]);