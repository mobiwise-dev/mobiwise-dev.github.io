"use strict";(self.webpackChunkmobiwise_dev_github_io=self.webpackChunkmobiwise_dev_github_io||[]).push([[8524],{3905:(e,n,t)=>{t.d(n,{Zo:()=>d,kt:()=>f});var r=t(7294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function p(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var l=r.createContext({}),s=function(e){var n=r.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):a(a({},n),e)),t},d=function(e){var n=s(e.components);return r.createElement(l.Provider,{value:n},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},c=r.forwardRef((function(e,n){var t=e.components,i=e.mdxType,o=e.originalType,l=e.parentName,d=p(e,["components","mdxType","originalType","parentName"]),u=s(t),c=i,f=u["".concat(l,".").concat(c)]||u[c]||m[c]||o;return t?r.createElement(f,a(a({ref:n},d),{},{components:t})):r.createElement(f,a({ref:n},d))}));function f(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var o=t.length,a=new Array(o);a[0]=c;var p={};for(var l in n)hasOwnProperty.call(n,l)&&(p[l]=n[l]);p.originalType=e,p[u]="string"==typeof e?e:i,a[1]=p;for(var s=2;s<o;s++)a[s]=t[s];return r.createElement.apply(null,a)}return r.createElement.apply(null,t)}c.displayName="MDXCreateElement"},2701:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>m,frontMatter:()=>o,metadata:()=>p,toc:()=>s});var r=t(7462),i=(t(7294),t(3905));const o={sidebar_position:1},a="mbrApp",p={unversionedId:"mbrApp/mbrApp",id:"mbrApp/mbrApp",title:"mbrApp",description:"Le module est d\xe9fini \xe0 l'aide de la fonction defineM qui prend deux arguments : g et f. Ce sont des r\xe9f\xe9rences \xe0 la biblioth\xe8que jQuery et au module Bridge respectivement.",source:"@site/docs/mbrApp/mbrApp.md",sourceDirName:"mbrApp",slug:"/mbrApp/",permalink:"/docs/mbrApp/",draft:!1,tags:[],version:"current",lastUpdatedAt:1682502564,formattedLastUpdatedAt:"Apr 26, 2023",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"docSidebar",previous:{title:"mbrApp",permalink:"/docs/category/mbrapp"},next:{title:"mbrApp.Accordion",permalink:"/docs/mbrApp/Accordion"}},l={},s=[{value:"Exemple",id:"exemple",level:2},{value:"En r\xe9sum\xe9",id:"en-r\xe9sum\xe9",level:2}],d={toc:s},u="wrapper";function m(e){let{components:n,...t}=e;return(0,i.kt)(u,(0,r.Z)({},d,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"mbrapp"},"mbrApp"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},'defineM(\n  "mbrApp",\n  function (g, f) {\n    var e = function () {\n        this.$iframeOverlay = g("<div>")\n          .hide()\n          .css({\n            position: "absolute",\n            left: 0,\n            top: 65,\n            right: 0,\n            bottom: 0,\n          })\n          .appendTo("body");\n        f.isMobile && g("html").addClass("device");\n        this.$window = g(window);\n        this.$body = g("body");\n      },\n      d = {},\n      l = {};\n    e.prototype.on = function (a, b) {\n      if (g.isArray(a)) for (var c in a) this.on(a[c], b);\n      else if (a in l) {\n        if (b)\n          try {\n            b.apply(this, l[a]);\n          } catch (h) {\n            console.error(h);\n          }\n      } else (d[a] || (d[a] = [])).push(b);\n    };\n    e.prototype.off = function (a, b) {\n      if (!d[a]) return !1;\n      if (b) for (var c = 0; c < d[a].length; c++) d[a][c] === b && (d[a][c] = void 0);\n      else delete d[a];\n    };\n    e.prototype.fire = function (a) {\n      f && f.debug & 1 && console.log("fire mbrApp::" + a);\n      var b = [].slice.call(arguments, 1);\n      if ("undefined" !== typeof d[a])\n        for (var c in d[a])\n          if (d[a][c])\n            try {\n              d[a][c].apply(this, b);\n            } catch (h) {\n              console.error(h);\n            }\n    };\n    e.prototype.fireOnce = function (a) {\n      f && f.debug & 1 && console.log("fire mbrApp::" + a);\n      if (!(a in l)) {\n        var b = [].slice.call(arguments, 1);\n        l[a] = b;\n        for (var c in d[a])\n          if (d[a][c])\n            try {\n              d[a][c].apply(this, b), (d[a][c] = void 0);\n            } catch (h) {\n              console.error(h);\n            }\n      }\n    };\n    var m = {};\n    e.prototype.addFilter = function (a, b) {\n      (m[a] || (m[a] = [])).push(b);\n    };\n    e.prototype.applyFilter = function (a) {\n      f && f.debug & 2 && console.log("applyFilter App:" + a);\n      var b = [].slice.call(arguments, 1);\n      if (m[a])\n        for (var c = m[a], d = 0, e = c.length; d < e; d++)\n          try {\n            (b[0] = c[d].apply(this, b)), "undefined" == typeof b[0] && console.warn("handle of " + a + " filter return undefined: ", c[d]);\n          } catch (p) {\n            console.error(p);\n          }\n      return b[0];\n    };\n    var k = {};\n    e.prototype.regExtension = e.prototype.registerExtension = function (a) {\n      if (!a.name || "undefined" !== typeof k[a.name]) return !1;\n      k[a.name] = a;\n      if (a.global) for (var b in a.global) b in this ? console.error("Error re-definition method mbrApp." + b + " by module " + a.name) : (this[b] = a.global[b]);\n      if (a.events) for (var c in a.events) this.on(c, a.events[c]);\n      if (a.filters) for (c in a.filters) this.addFilter(c, a.filters[c]);\n      f && f.debug & 8 && console.log("mbrApp.regExtension" + a.name);\n      return !0;\n    };\n    e.prototype.rmExtension = e.prototype.removeExtension = function (a) {\n      if (!k[a]) return !1;\n      var b = k[a].global;\n      if (b) for (var c in b) this.k && delete this.k;\n      delete k[a];\n      return !0;\n    };\n    e.prototype.bridgeInit = function () {\n      this.fireOnce("bridgeInit");\n    };\n    var n = 0;\n    e.prototype.uniqNum = function () {\n      return n++;\n    };\n    e.prototype.resetUniqNum = function (a) {\n      n = 0;\n      a && this.Core.resetUniqNum();\n    };\n    window.mbrApp = new e();\n    f.setOnReady(function () {\n      f.bind("drop", function (a) {\n        for (var b in a) window.mbrApp.fire("incomingFile", a[b]);\n      });\n      g(function () {\n        window.mbrApp.bridgeInit();\n      });\n    });\n    return window.mbrApp;\n  },\n  ["jQuery", "Bridge"]\n);\n')),(0,i.kt)("p",null,"Le module est d\xe9fini \xe0 l'aide de la fonction ",(0,i.kt)("inlineCode",{parentName:"p"},"defineM")," qui prend deux arguments : ",(0,i.kt)("inlineCode",{parentName:"p"},"g")," et ",(0,i.kt)("inlineCode",{parentName:"p"},"f"),". Ce sont des r\xe9f\xe9rences \xe0 la biblioth\xe8que ",(0,i.kt)("inlineCode",{parentName:"p"},"jQuery")," et au module ",(0,i.kt)("inlineCode",{parentName:"p"},"Bridge")," respectivement."),(0,i.kt)("p",null,"Le module ",(0,i.kt)("inlineCode",{parentName:"p"},"mbrApp")," d\xe9finit un constructeur d'objet appel\xe9 ",(0,i.kt)("inlineCode",{parentName:"p"},"e"),". Ce constructeur initialise plusieurs propri\xe9t\xe9s, telles qu'un div de superposition cach\xe9, des r\xe9f\xe9rences \xe0 la biblioth\xe8que ",(0,i.kt)("inlineCode",{parentName:"p"},"jQuery")," et \xe0 l'\xe9l\xe9ment ",(0,i.kt)("inlineCode",{parentName:"p"},"body"),", ainsi que des objets vides."),(0,i.kt)("p",null,"L'objet ",(0,i.kt)("inlineCode",{parentName:"p"},"e")," d\xe9finit \xe9galement plusieurs m\xe9thodes. La m\xe9thode ",(0,i.kt)("inlineCode",{parentName:"p"},"on")," ajoute des \xe9couteurs d'\xe9v\xe9nements \xe0 l'objet ",(0,i.kt)("inlineCode",{parentName:"p"},"d")," qui stocke des rappels associ\xe9s \xe0 des noms d'\xe9v\xe9nements. La m\xe9thode ",(0,i.kt)("inlineCode",{parentName:"p"},"off")," supprime un \xe9couteur d'\xe9v\xe9nement, et la m\xe9thode ",(0,i.kt)("inlineCode",{parentName:"p"},"fire")," d\xe9clenche un \xe9v\xe9nement en appelant tous les rappels associ\xe9s au nom de l'\xe9v\xe9nement."),(0,i.kt)("p",null,"La m\xe9thode ",(0,i.kt)("inlineCode",{parentName:"p"},"fireOnce")," est similaire \xe0 la m\xe9thode ",(0,i.kt)("inlineCode",{parentName:"p"},"fire"),", mais elle n'appelle les rappels qu'une fois et les supprime ensuite de l'objet ",(0,i.kt)("inlineCode",{parentName:"p"},"d"),"."),(0,i.kt)("p",null,"Les m\xe9thodes ",(0,i.kt)("inlineCode",{parentName:"p"},"addFilter")," et ",(0,i.kt)("inlineCode",{parentName:"p"},"applyFilter")," sont utilis\xe9es pour ajouter et appliquer des filtres aux donn\xe9es qui leur sont transmises."),(0,i.kt)("p",null,"Les m\xe9thodes ",(0,i.kt)("inlineCode",{parentName:"p"},"regExtension")," et ",(0,i.kt)("inlineCode",{parentName:"p"},"rmExtension")," sont utilis\xe9es pour enregistrer et supprimer des extensions respectivement. Les extensions sont des modules JavaScript qui peuvent \xeatre charg\xe9s dynamiquement et ajoutent des fonctionnalit\xe9s au module ",(0,i.kt)("inlineCode",{parentName:"p"},"mbrApp"),"."),(0,i.kt)("p",null,"Enfin, les m\xe9thodes ",(0,i.kt)("inlineCode",{parentName:"p"},"uniqNum")," et ",(0,i.kt)("inlineCode",{parentName:"p"},"resetUniqNum")," sont utilis\xe9es pour g\xe9n\xe9rer des nombres uniques et r\xe9initialiser le compteur respectivement."),(0,i.kt)("p",null,"Le code cr\xe9e \xe9galement une instance de l'objet ",(0,i.kt)("inlineCode",{parentName:"p"},"e")," et l'assigne \xe0 la propri\xe9t\xe9 ",(0,i.kt)("inlineCode",{parentName:"p"},"window.mbrApp"),". De plus, il lie un \xe9couteur d'\xe9v\xe9nements \xe0 l'\xe9v\xe9nement ",(0,i.kt)("inlineCode",{parentName:"p"},"drop")," et appelle la m\xe9thode ",(0,i.kt)("inlineCode",{parentName:"p"},"bridgeInit")," lorsque le document est pr\xeat."),(0,i.kt)("h2",{id:"exemple"},"Exemple"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},'// On cr\xe9e une nouvelle extension\nvar myExtension = {\n  name: "MyExtension",\n  global: {\n    myMethod: function () {\n      console.log("My method has been called!");\n    },\n  },\n  events: {\n    myEvent: function () {\n      console.log("My event has been triggered!");\n    },\n  },\n};\n// On enregistre l\'extension aupr\xe8s du module "mbrApp"\nmbrApp.regExtension(myExtension);\n\n// On ajoute un filtre qui ajoute un pr\xe9fixe \xe0 une cha\xeene de caract\xe8res\nmbrApp.addFilter("prefix", function (text, prefix) {\n  return prefix + " " + text;\n});\n\n// On ajoute un rappel pour l\'\xe9v\xe9nement "myEvent"\nmbrApp.on("myEvent", function () {\n  console.log("My callback has been called!");\n});\n\n// On d\xe9clenche l\'\xe9v\xe9nement "myEvent"\nmbrApp.fire("myEvent");\n\n// On appelle la m\xe9thode "myMethod" de l\'extension\nmbrApp.myMethod();\n\n// On applique le filtre "prefix" \xe0 une cha\xeene de caract\xe8res\nvar result = mbrApp.applyFilter("prefix", "world", "Hello");\nconsole.log(result); // Affiche "Hello world"\n')),(0,i.kt)("h2",{id:"en-r\xe9sum\xe9"},"En r\xe9sum\xe9"),(0,i.kt)("p",null,'Le code d\xe9finit le module "mbrApp" qui est un objet contenant plusieurs m\xe9thodes pour ajouter, supprimer et d\xe9clencher des \xe9v\xe9nements, ainsi que pour ajouter et appliquer des filtres.'),(0,i.kt)("p",null,"En outre, le module ",(0,i.kt)("inlineCode",{parentName:"p"},"mbrApp")," permet \xe9galement d'enregistrer et de supprimer des extensions, qui sont des modules JavaScript qui ajoutent des fonctionnalit\xe9s suppl\xe9mentaires au module ",(0,i.kt)("inlineCode",{parentName:"p"},"mbrApp"),". Le code cr\xe9e \xe9galement une instance du module ",(0,i.kt)("inlineCode",{parentName:"p"},"mbrApp")," et l'assigne \xe0 la propri\xe9t\xe9 ",(0,i.kt)("inlineCode",{parentName:"p"},"window.mbrApp"),"."),(0,i.kt)("p",null,"Dans l'ensemble, le module ",(0,i.kt)("inlineCode",{parentName:"p"},"mbrApp")," fournit une structure pour g\xe9rer des \xe9v\xe9nements et des filtres dans une application JavaScript, et offre \xe9galement la possibilit\xe9 d'\xe9tendre ses fonctionnalit\xe9s en utilisant des extensions."))}m.isMDXComponent=!0}}]);