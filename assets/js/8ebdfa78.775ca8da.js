"use strict";(self.webpackChunkmobiwise_dev_github_io=self.webpackChunkmobiwise_dev_github_io||[]).push([[7093],{3905:(e,n,t)=>{t.d(n,{Zo:()=>l,kt:()=>f});var i=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,i,r=function(e,n){if(null==e)return{};var t,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)t=o[i],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)t=o[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var p=i.createContext({}),d=function(e){var n=i.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):a(a({},n),e)),t},l=function(e){var n=d(e.components);return i.createElement(p.Provider,{value:n},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var n=e.children;return i.createElement(i.Fragment,{},n)}},m=i.forwardRef((function(e,n){var t=e.components,r=e.mdxType,o=e.originalType,p=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),c=d(t),m=r,f=c["".concat(p,".").concat(m)]||c[m]||u[m]||o;return t?i.createElement(f,a(a({ref:n},l),{},{components:t})):i.createElement(f,a({ref:n},l))}));function f(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var o=t.length,a=new Array(o);a[0]=m;var s={};for(var p in n)hasOwnProperty.call(n,p)&&(s[p]=n[p]);s.originalType=e,s[c]="string"==typeof e?e:r,a[1]=s;for(var d=2;d<o;d++)a[d]=t[d];return i.createElement.apply(null,a)}return i.createElement.apply(null,t)}m.displayName="MDXCreateElement"},9388:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>p,contentTitle:()=>a,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>d});var i=t(7462),r=(t(7294),t(3905));const o={sidebar_position:2,title:"defineM",description:"What does Mobirise's 'defineM' function do?",keywords:["MobiWise","Mobirise","extension","function"],slug:"defineM"},a="defineM",s={unversionedId:"defineM",id:"defineM",title:"defineM",description:"What does Mobirise's 'defineM' function do?",source:"@site/docs/defineM.md",sourceDirName:".",slug:"/defineM",permalink:"/docs/defineM",draft:!1,tags:[],version:"current",lastUpdatedAt:1689588590,formattedLastUpdatedAt:"Jul 17, 2023",sidebarPosition:2,frontMatter:{sidebar_position:2,title:"defineM",description:"What does Mobirise's 'defineM' function do?",keywords:["MobiWise","Mobirise","extension","function"],slug:"defineM"},sidebar:"docSidebar",previous:{title:"Cheat Sheet",permalink:"/docs/Cheat_Sheet"},next:{title:"mbrApp",permalink:"/docs/category/mbrapp"}},p={},d=[{value:"Exemple",id:"exemple",level:2},{value:"In summary",id:"in-summary",level:2}],l={toc:d},c="wrapper";function u(e){let{components:n,...t}=e;return(0,r.kt)(c,(0,i.Z)({},l,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"definem"},"defineM"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'function(b, c, h) {\n  for (var g = {}, d = 0; 3 > d; d++) "string" == typeof arguments[d] ? g.name = arguments[d] : "function" == typeof arguments[d] ? g.func = arguments[d] : "object" == typeof arguments[d] && arguments[d] instanceof Array && (g.deps = arguments[d]);\n  if (g.func) {\n    d = document.getElementsByTagName("script");\n    d = (d = d[d.length - 1]) && d.src || "";\n    var f = /^([^?]*)\\/[^?]*/.exec(window.location.href)[1] + "/";\n    d.startsWith(f) && (d = d.replace(f, ""));\n    g.path = d;\n    g.name = g.name || g.path.replace(/\\.js$/, "");\n    e.push(g);\n    a();\n    return g\n  }\n  console.error("Error: no function while module define", arguments)\n}\n')),(0,r.kt)("p",null,"This function is a simplified implementation of a module system in JavaScript."),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"defineM")," function takes three arguments (",(0,r.kt)("inlineCode",{parentName:"p"},"b"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"c")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"h"),") which are all optional and can be of different types:"),(0,r.kt)("p",null,"If the argument is a string, it is taken as the module name.",(0,r.kt)("br",null),"\nIf the argument is a function, it is considered the body of the module.",(0,r.kt)("br",null),"\nIf the argument is an array, it is considered the list of module dependencies."),(0,r.kt)("p",null,"The function creates a ",(0,r.kt)("inlineCode",{parentName:"p"},"g")," object and ",(0,r.kt)("inlineCode",{parentName:"p"},"y")," stores the provided information as arguments. If a function is supplied as an argument, it is stored in the ",(0,r.kt)("inlineCode",{parentName:"p"},"func")," property of the ",(0,r.kt)("inlineCode",{parentName:"p"},"g")," object. If a name is supplied as an argument, it is stored in the ",(0,r.kt)("inlineCode",{parentName:"p"},"name")," property of the ",(0,r.kt)("inlineCode",{parentName:"p"},"g")," object. If a list of dependencies is provided, it is stored in the ",(0,r.kt)("inlineCode",{parentName:"p"},"deps")," property of the ",(0,r.kt)("inlineCode",{parentName:"p"},"g")," object."),(0,r.kt)("p",null,"The function also retrieves the path to the current script (from the ",(0,r.kt)("inlineCode",{parentName:"p"},"script")," tags in the HTML document) and stores the path in the ",(0,r.kt)("inlineCode",{parentName:"p"},"path")," property of the ",(0,r.kt)("inlineCode",{parentName:"p"},"g")," object."),(0,r.kt)("p",null,"Finally, the function adds the ",(0,r.kt)("inlineCode",{parentName:"p"},"g")," object to an ",(0,r.kt)("inlineCode",{parentName:"p"},"e")," array that contains all the modules defined so far, then it calls the ",(0,r.kt)("inlineCode",{parentName:"p"},"a")," function (which is not defined in the code) and returns l 'object ",(0,r.kt)("inlineCode",{parentName:"p"},"g"),"."),(0,r.kt)("p",null,"If no function-like argument is supplied to the ",(0,r.kt)("inlineCode",{parentName:"p"},"defineM")," function, an error is returned via the ",(0,r.kt)("inlineCode",{parentName:"p"},"console.error")," function."),(0,r.kt)("h2",{id:"exemple"},"Exemple"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'defineM(\n  "my-extension",\n  function (mbrApp) {\n    mbrApp.regExtension({\n      name: "my-extension",\n      events: {\n        clickedButton: function () {\n          alert("Le bouton a \xe9t\xe9 cliqu\xe9 !");\n        },\n      },\n    });\n  },\n  [mbrApp]\n);\n')),(0,r.kt)("admonition",{title:"Note",type:"info"},(0,r.kt)("p",{parentName:"admonition"},"This code doesn't do much of anything practical, but it illustrates how the ",(0,r.kt)("inlineCode",{parentName:"p"},"regExtension")," function can be used to register custom features in Mobirise.")),(0,r.kt)("h2",{id:"in-summary"},"In summary"),(0,r.kt)("p",null,"This ",(0,r.kt)("inlineCode",{parentName:"p"},"mbrApp.alertDlg"),' function creates an alert dialog box containing the text passed as an argument, and displays this dialog box to the user. When the user presses the "OK" button on the dialog box, the ',(0,r.kt)("inlineCode",{parentName:"p"},"success")," function is called, but it does nothing."))}u.isMDXComponent=!0}}]);